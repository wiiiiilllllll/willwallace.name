function addListener(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,function(){return n.call(e,window.event)}):e["on"+t]=n}function addClass(e,t){e.classList?e.classList.add(t):hasClass(e,t)||(e.className+=" "+t)}function removeClass(e,t){e.classList?e.classList.remove(t):hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}function hasClass(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")!==-1}function obj(e){setTimeout(function(){var t=e.querySelector("img"),n="data:image/gif;base64",o=t.currentSrc?t.currentSrc:t.src;o.indexOf(n)==-1&&(e.style.backgroundImage="url("+o+")",addClass(e,"obj"),hasClass(t,"lux")&&(addClass(e,"obj-lux"),lux.obj(e)))},500)}!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.Blazy=t()}(this,function(){"use strict";function e(e){var n=e._util;n.elements=u(e.options.selector),n.count=n.elements.length,n.destroyed&&(n.destroyed=!1,e.options.container&&v(e.options.container,function(e){d(e,"scroll",n.validateT)}),d(window,"resize",n.saveViewportOffsetT),d(window,"resize",n.validateT),d(window,"scroll",n.validateT)),t(e)}function t(e){for(var t=e._util,o=0;o<t.count;o++){var s=t.elements[o];(n(s)||l(s,e.options.successClass))&&(e.load(s),t.elements.splice(o,1),t.count--,o--)}0===t.count&&e.destroy()}function n(e){var t=e.getBoundingClientRect();return t.right>=y.left&&t.bottom>=y.top&&t.left<=y.right&&t.top<=y.bottom}function o(e,t,n){if(!l(e,n.successClass)&&(t||n.loadInvisible||e.offsetWidth>0&&e.offsetHeight>0)){var o=e.getAttribute(h)||e.getAttribute(n.src);if(o){var u=o.split(n.separator),f=u[g&&u.length>1?1:0],m=a(e,"img");if(m||void 0===e.src){var y=new Image,b=function(){n.error&&n.error(e,"invalid"),c(e,n.errorClass),p(y,"error",b),p(y,"load",x)},x=function(){if(m){r(e,f),i(e,C,n.srcset);var t=e.parentNode;t&&a(t,"picture")&&v(t.getElementsByTagName("source"),function(e){i(e,C,n.srcset)})}else e.style.backgroundImage='url("'+f+'")';s(e,n),p(y,"load",x),p(y,"error",b)};d(y,"error",b),d(y,"load",x),r(y,f)}else r(e,f),s(e,n)}else a(e,"video")?(v(e.getElementsByTagName("source"),function(e){i(e,w,n.src)}),e.load(),s(e,n)):(n.error&&n.error(e,"missing"),c(e,n.errorClass))}}function s(e,t){c(e,t.successClass),t.success&&t.success(e),e.removeAttribute(t.src),v(t.breakpoints,function(t){e.removeAttribute(t.src)})}function r(e,t){e[w]=t}function i(e,t,n){var o=e.getAttribute(n);o&&(e[t]=o,e.removeAttribute(n))}function a(e,t){return e.nodeName.toLowerCase()===t}function l(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")!==-1}function c(e,t){l(e,t)||(e.className+=" "+t)}function u(e){for(var t=[],n=document.querySelectorAll(e),o=n.length;o--;t.unshift(n[o]));return t}function f(e){y.bottom=(window.innerHeight||document.documentElement.clientHeight)+e,y.right=(window.innerWidth||document.documentElement.clientWidth)+e}function d(e,t,n){e.attachEvent?e.attachEvent&&e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}function p(e,t,n){e.detachEvent?e.detachEvent&&e.detachEvent("on"+t,n):e.removeEventListener(t,n,!1)}function v(e,t){if(e&&t)for(var n=e.length,o=0;o<n&&t(e[o],o)!==!1;o++);}function m(e,t,n){var o=0;return function(){var s=+new Date;s-o<t||(o=s,e.apply(n,arguments))}}var h,y,g,w="src",C="srcset";return function(n){if(!document.querySelectorAll){var s=document.createStyleSheet();document.querySelectorAll=function(e,t,n,o,r){for(r=document.all,t=[],e=e.replace(/\[for\b/gi,"[htmlFor").split(","),n=e.length;n--;){for(s.addRule(e[n],"k:v"),o=r.length;o--;)r[o].currentStyle.k&&t.push(r[o]);s.removeRule(0)}return t}}var r=this,i=r._util={};i.elements=[],i.destroyed=!0,r.options=n||{},r.options.error=r.options.error||!1,r.options.offset=r.options.offset||100,r.options.success=r.options.success||!1,r.options.selector=r.options.selector||".b-lazy",r.options.separator=r.options.separator||"|",r.options.container=!!r.options.container&&document.querySelectorAll(r.options.container),r.options.errorClass=r.options.errorClass||"b-error",r.options.breakpoints=r.options.breakpoints||!1,r.options.loadInvisible=r.options.loadInvisible||!1,r.options.successClass=r.options.successClass||"b-loaded",r.options.validateDelay=r.options.validateDelay||25,r.options.saveViewportOffsetDelay=r.options.saveViewportOffsetDelay||50,r.options.srcset=r.options.srcset||"data-srcset",r.options.src=h=r.options.src||"data-src",g=window.devicePixelRatio>1,y={},y.top=0-r.options.offset,y.left=0-r.options.offset,r.revalidate=function(){e(this)},r.load=function(e,t){var n=this.options;void 0===e.length?o(e,t,n):v(e,function(e){o(e,t,n)})},r.destroy=function(){var e=this,t=e._util;e.options.container&&v(e.options.container,function(e){p(e,"scroll",t.validateT)}),p(window,"scroll",t.validateT),p(window,"resize",t.validateT),p(window,"resize",t.saveViewportOffsetT),t.count=0,t.elements.length=0,t.destroyed=!0},i.validateT=m(function(){t(r)},r.options.validateDelay,r),i.saveViewportOffsetT=m(function(){f(r.options.offset)},r.options.saveViewportOffsetDelay,r),f(r.options.offset),v(r.options.breakpoints,function(e){if(e.width>=window.screen.width)return h=e.src,!1}),setTimeout(function(){e(r)})}}),!function(e,t,n){function o(e,t){return typeof e===t}function s(){var e,t,n,s,r,i,a;for(var l in g)if(g.hasOwnProperty(l)){if(e=[],t=g[l],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(s=o(t.fn,"function")?t.fn():t.fn,r=0;r<e.length;r++)i=e[r],a=i.split("."),1===a.length?C[a[0]]=s:(!C[a[0]]||C[a[0]]instanceof Boolean||(C[a[0]]=new Boolean(C[a[0]])),C[a[0]][a[1]]=s),y.push((s?"":"no-")+a.join("-"))}}function r(e){var t=b.className,n=C._config.classPrefix||"";if(x&&(t=t.baseVal),C._config.enableJSClass){var o=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(o,"$1"+n+"js$2")}C._config.enableClasses&&(t+=" "+n+e.join(" "+n),x?b.className.baseVal=t:b.className=t)}function i(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function a(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):x?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function l(){var e=t.body;return e||(e=a(x?"svg":"body"),e.fake=!0),e}function c(e,n,o,s){var r,i,c,u,f="modernizr",d=a("div"),p=l();if(parseInt(o,10))for(;o--;)c=a("div"),c.id=s?s[o]:f+(o+1),d.appendChild(c);return r=a("style"),r.type="text/css",r.id="s"+f,(p.fake?p:d).appendChild(r),p.appendChild(d),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(t.createTextNode(e)),d.id=f,p.fake&&(p.style.background="",p.style.overflow="hidden",u=b.style.overflow,b.style.overflow="hidden",b.appendChild(p)),i=n(d,e),p.fake?(p.parentNode.removeChild(p),b.style.overflow=u,b.offsetHeight):d.parentNode.removeChild(d),!!i}function u(e,t){return!!~(""+e).indexOf(t)}function f(e,t){return function(){return e.apply(t,arguments)}}function d(e,t,n){var s;for(var r in e)if(e[r]in t)return n===!1?e[r]:(s=t[e[r]],o(s,"function")?f(s,n||t):s);return!1}function p(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function v(t,o){var s=t.length;if("CSS"in e&&"supports"in e.CSS){for(;s--;)if(e.CSS.supports(p(t[s]),o))return!0;return!1}if("CSSSupportsRule"in e){for(var r=[];s--;)r.push("("+p(t[s])+":"+o+")");return r=r.join(" or "),c("@supports ("+r+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function m(e,t,s,r){function l(){f&&(delete _.style,delete _.modElem)}if(r=!o(r,"undefined")&&r,!o(s,"undefined")){var c=v(e,s);if(!o(c,"undefined"))return c}for(var f,d,p,m,h,y=["modernizr","tspan","samp"];!_.style&&y.length;)f=!0,_.modElem=a(y.shift()),_.style=_.modElem.style;for(p=e.length,d=0;p>d;d++)if(m=e[d],h=_.style[m],u(m,"-")&&(m=i(m)),_.style[m]!==n){if(r||o(s,"undefined"))return l(),"pfx"!=t||m;try{_.style[m]=s}catch(g){}if(_.style[m]!=h)return l(),"pfx"!=t||m}return l(),!1}function h(e,t,n,s,r){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+T.join(i+" ")+i).split(" ");return o(t,"string")||o(t,"undefined")?m(a,t,s,r):(a=(e+" "+j.join(i+" ")+i).split(" "),d(a,t,n))}var y=[],g=[],w={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){g.push({name:e,fn:t,options:n})},addAsyncTest:function(e){g.push({name:null,fn:e})}},C=function(){};C.prototype=w,C=new C;var b=t.documentElement,x="svg"===b.nodeName.toLowerCase(),S=w.testStyles=c;S("#modernizr { height: 50vh; }",function(t){var n=parseInt(e.innerHeight/2,10),o=parseInt((e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).height,10);C.addTest("cssvhunit",o==n)});var E="Moz O ms Webkit",T=w._config.usePrefixes?E.split(" "):[];w._cssomPrefixes=T;var N=function(t){var o,s=prefixes.length,r=e.CSSRule;if("undefined"==typeof r)return n;if(!t)return!1;if(t=t.replace(/^@/,""),o=t.replace(/-/g,"_").toUpperCase()+"_RULE",o in r)return"@"+t;for(var i=0;s>i;i++){var a=prefixes[i],l=a.toUpperCase()+"_"+o;if(l in r)return"@-"+a.toLowerCase()+"-"+t}return!1};w.atRule=N;var j=w._config.usePrefixes?E.toLowerCase().split(" "):[];w._domPrefixes=j;var L={elem:a("modernizr")};C._q.push(function(){delete L.elem});var _={style:L.elem.style};C._q.unshift(function(){delete _.style}),w.testAllProps=h;var z=w.prefixed=function(e,t,n){return 0===e.indexOf("@")?N(e):(-1!=e.indexOf("-")&&(e=i(e)),t?h(e,t,n):h(e,"pfx"))};C.addTest("objectfit",!!z("objectFit"),{aliases:["object-fit"]}),s(),r(y),delete w.addTest,delete w.addAsyncTest;for(var A=0;A<C._q.length;A++)C._q[A]();e.Modernizr=C}(window,document);var lux={init:function(){var e=document.querySelectorAll(".lux");for(i=0;i<e.length;i++)addListener(e[i],"click",function(e){hasClass(e,"obj-lux")&&(e=e.querySelector("img")),lux.show(e.target)})},show:function(e){var t=document.createElement("img");t.src=e.getAttribute("data-full"),addClass(t,"clone");var n=document.createElement("div");addClass(n,"overlay"),n.appendChild(t);var o=document.getElementsByTagName("body")[0];o.appendChild(n),setTimeout(function(){addClass(n,"overlay--open")},10),addListener(n,"click",function(){lux.hide()});var s=document.getElementById("html");addClass(s,"frozen")},hide:function(){var e=document.querySelectorAll(".overlay")[0];removeClass(e,"overlay--open"),setTimeout(function(){e.parentNode.removeChild(e);document.getElementById("html")},210),removeClass(html,"frozen")},obj:function(e){addListener(e,"click",function(t){t=e.querySelector("img"),lux.show(t)})}};document.getElementById("html").className="js";var bLazy=new Blazy({success:function(e){Modernizr.objectfit||obj(e.parentNode)}});lux.init();