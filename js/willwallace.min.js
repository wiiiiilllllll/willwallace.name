!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.Blazy=e()}(this,function(){function t(t){var n=t._util;n.elements=a(t.options.selector),n.count=n.elements.length,n.destroyed&&(n.destroyed=!1,t.options.container&&f(t.options.container,function(t){u(t,"scroll",n.validateT)}),u(window,"resize",n.save_viewportOffsetT),u(window,"resize",n.validateT),u(window,"scroll",n.validateT)),e(t)}function e(t){for(var e=t._util,n=0;n<e.count;n++){var i=e.elements[n],r=i.getBoundingClientRect();(r.right>=p.left&&r.bottom>=p.top&&r.left<=p.right&&r.top<=p.bottom||o(i,t.options.successClass))&&(t.load(i),e.elements.splice(n,1),e.count--,n--)}0===e.count&&t.destroy()}function n(t,e,n){if(!o(t,n.successClass)&&(e||n.loadInvisible||0<t.offsetWidth&&0<t.offsetHeight))if(e=t.getAttribute(d)||t.getAttribute(n.src)){e=e.split(n.separator);var a=e[m&&1<e.length?1:0],c="img"===t.nodeName.toLowerCase();if(c||void 0===t.src){var h=new Image,p=function(){n.error&&n.error(t,"invalid"),s(t,n.errorClass),l(h,"error",p),l(h,"load",v)},v=function(){if(c){t.src=a,r(t,"srcset",n.srcset);var e=t.parentNode;e&&"picture"===e.nodeName.toLowerCase()&&f(e.getElementsByTagName("source"),function(t){r(t,"srcset",n.srcset)})}else t.style.backgroundImage='url("'+a+'")';i(t,n),l(h,"load",v),l(h,"error",p)};u(h,"error",p),u(h,"load",v),h.src=a}else t.src=a,i(t,n)}else"video"===t.nodeName.toLowerCase()?(f(t.getElementsByTagName("source"),function(t){r(t,"src",n.src)}),t.load(),i(t,n)):(n.error&&n.error(t,"missing"),s(t,n.errorClass))}function i(t,e){s(t,e.successClass),e.success&&e.success(t),t.removeAttribute(e.src),f(e.breakpoints,function(e){t.removeAttribute(e.src)})}function r(t,e,n){var i=t.getAttribute(n);i&&(t[e]=i,t.removeAttribute(n))}function o(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")}function s(t,e){o(t,e)||(t.className+=" "+e)}function a(t){var e=[];t=document.querySelectorAll(t);for(var n=t.length;n--;e.unshift(t[n]));return e}function c(t){p.bottom=(window.innerHeight||document.documentElement.clientHeight)+t,p.right=(window.innerWidth||document.documentElement.clientWidth)+t}function u(t,e,n){t.attachEvent?t.attachEvent&&t.attachEvent("on"+e,n):t.addEventListener(e,n,!1)}function l(t,e,n){t.detachEvent?t.detachEvent&&t.detachEvent("on"+e,n):t.removeEventListener(e,n,!1)}function f(t,e){if(t&&e)for(var n=t.length,i=0;i<n&&!1!==e(t[i],i);i++);}function h(t,e,n){var i=0;return function(){var r=+new Date;r-i<e||(i=r,t.apply(n,arguments))}}var d,p,m;return function(i){if(!document.querySelectorAll){var r=document.createStyleSheet();document.querySelectorAll=function(t,e,n,i,o){for(o=document.all,e=[],t=t.replace(/\[for\b/gi,"[htmlFor").split(","),n=t.length;n--;){for(r.addRule(t[n],"k:v"),i=o.length;i--;)o[i].currentStyle.k&&e.push(o[i]);r.removeRule(0)}return e}}var o=this,s=o._util={};s.elements=[],s.destroyed=!0,o.options=i||{},o.options.error=o.options.error||!1,o.options.offset=o.options.offset||100,o.options.success=o.options.success||!1,o.options.selector=o.options.selector||".b-lazy",o.options.separator=o.options.separator||"|",o.options.container=!!o.options.container&&document.querySelectorAll(o.options.container),o.options.errorClass=o.options.errorClass||"b-error",o.options.breakpoints=o.options.breakpoints||!1,o.options.loadInvisible=o.options.loadInvisible||!1,o.options.successClass=o.options.successClass||"b-loaded",o.options.validateDelay=o.options.validateDelay||25,o.options.save_viewportOffsetDelay=o.options.save_viewportOffsetDelay||50,o.options.srcset=o.options.srcset||"data-srcset",o.options.src=d=o.options.src||"data-src",m=1<window.devicePixelRatio,p={},p.top=0-o.options.offset,p.left=0-o.options.offset,o.revalidate=function(){t(this)},o.load=function(t,e){var i=this.options;void 0===t.length?n(t,e,i):f(t,function(t){n(t,e,i)})},o.destroy=function(){var t=this._util;this.options.container&&f(this.options.container,function(e){l(e,"scroll",t.validateT)}),l(window,"scroll",t.validateT),l(window,"resize",t.validateT),l(window,"resize",t.save_viewportOffsetT),t.count=0,t.elements.length=0,t.destroyed=!0},s.validateT=h(function(){e(o)},o.options.validateDelay,o),s.save_viewportOffsetT=h(function(){c(o.options.offset)},o.options.save_viewportOffsetDelay,o),c(o.options.offset),f(o.options.breakpoints,function(t){if(t.width>=window.screen.width)return d=t.src,!1}),setTimeout(function(){t(o)})}}),!function(t,e){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof exports?module.exports=e():t.cash=t.$=e()}(this,function(){function t(e,n){return new t.fn.init(e,n)}function e(t){var e=e||o.createDocumentFragment(),n=n||e.appendChild(o.createElement("div"));return n.innerHTML=t,n}function n(t,e){return parseInt(s.getComputedStyle(t[0],null)[e],10)}function i(){function t(t){var e=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e}return t()+t(!0)+t(!0)+t()}function r(e,n,r){var o=t(e).data("cshid")||i();t(e).data("cshid",o),o in m||(m[o]={}),n in m[o]||(m[o][n]=[]),m[o][n].push(r)}var o=document,s=window,a=Array.prototype,c=a.slice,u=a.filter,l=/^#[\w-]*$/,f=/^\.[\w-]*$/,h=/^[\w-]*$/,d=t.fn=t.prototype={cash:!0,length:0};d.init=function(e,n){var i,r,s=[];if(!e)return this;if(this.length=1,"string"!=typeof e)return e.cash?e:(this[0]=e,this);if("<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3)s=t.parseHTML(e);else{if(i=l.test(e),r=e.slice(1),!n&&i)return this[0]=o.getElementById(r),this;n=t(n)[0]||o,s=c.call(h.test(r)?f.test(e)?o.getElementsByClassName(r):o.getElementsByTagName(e):n.querySelectorAll(e))}return this.length=0,t.merge(this,s),this},d.init.prototype=d,t.each=function(t,e){for(var n=t.length,i=0;n>i;i++)e.call(t[i],t[i],i,t)},t.extend=d.extend=function(t,e){var n;e||(e=t,t=this);for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},t.matches=function(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)},t.merge=function(t,e){for(var n=+e.length,i=t.length,r=0;n>r;i++,r++)t[i]=e[r];return t.length=i,t},t.parseHTML=function(t){var n=/^<(\w+)\s*\/?>(?:<\/\1>|)$/.exec(t);return n?[o.createElement(n[1])]:(n=e(t),c.call(n.childNodes))},t.unique=function(e){return t.merge(t(),c.call(e).filter(function(t,e,n){return n.indexOf(t)===e}))};var p=/\S+/g;d.extend({addClass:function(t){var e,n,i=t.match(p);return this.each(function(t){if(n=i.length,t.classList)for(;n--;)t.classList.add(i[n]);else for(;n--;)e=" "+t.className+" ",-1===e.indexOf(" "+i[n]+" ")&&(t.className+=" "+i[n])}),this},attr:function(t,e){return e?(this.each(function(n){return n.setAttribute(t,e)}),this):this[0].getAttribute(t)},hasClass:function(t){return this[0].classList?this[0].classList.contains(t):-1!==this[0].className.indexOf(t)},prop:function(t){return this[0][t]},removeAttr:function(t){return this.each(function(e){return e.removeAttribute(t)}),this},removeClass:function(t){var e,n,i=t.match(p);return this.each(function(t){if(e=i.length,t.classList)for(;e--;)t.classList.remove(i[e]);else{for(n=" "+t.className+" ";e--;)n=n.replace(" "+i[e]+" "," ");t.className=n.trim()}}),this}}),d.extend({add:function(){var e,n=c.call(this),i=0;for(e=arguments.length;e>i;i++)n=n.concat(c.call(t(arguments[i])));return t.unique(n)},each:function(e){t.each(this,e)},eq:function(e){return t(this[e])},filter:function(e){return"string"==typeof e?u.call(this,function(n){return t.matches(n,e)}):u.call(this,e)},first:function(){return t(this[0])},get:function(t){return this[t]},index:function(e){return e?c.call(t(e).children()).indexOf(this[0]):c.call(t(this[0]).parent().children()).indexOf(this[0])},last:function(){return t(this[this.length-1])}}),d.extend({css:function(t,e){return"object"!=typeof t?e?(this.each(function(n){return n.style[t]=e}),this):s.getComputedStyle(this[0],null)[t]:void this.each(function(e){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])})}}),d.extend({data:function(e,n){return n?(this.each(function(i){i.dataset?i.dataset[e]=n:t(i).attr("data-"+e,n)}),this):this[0].dataset?this[0].dataset[e]:t(this[0]).attr("data-"+e)},removeData:function(e){return this.each(function(n){n.dataset?delete n.dataset[e]:t(n).removeAttr("data-"+e)}),this}}),d.extend({height:function(){return this[0].getBoundingClientRect().height},innerWidth:function(){return this[0].clientWidth},innerHeight:function(){return this[0].clientHeight},outerWidth:function(t){return t===!0?this[0].offsetWidth+(n(this,"margin-left")||n(this,"marginLeft")||0)+(n(this,"margin-right")||n(this,"marginRight")||0):this[0].offsetWidth},outerHeight:function(t){return t===!0?this[0].offsetHeight+(n(this,"margin-top")||n(this,"marginTop")||0)+(n(this,"margin-bottom")||n(this,"marginBottom")||0):this[0].offsetHeight},width:function(){return this[0].getBoundingClientRect().width}});var m={};d.extend({off:function(e,n){return this.each(function(i){if(n)i.removeEventListener(e,n);else for(var r in m[t(i).data("cshid")][e])i.removeEventListener(e,m[t(i).data("cshid")][e][r])}),this},on:function(e,n,i){return"function"==typeof n?(i=n,this.each(function(n){r(t(n),e,i),n.addEventListener(e,i)}),this):(this.each(function(o){function s(e){var r=e.target;if(t.matches(r,n))i.call(r);else{for(;!t.matches(r,n);){if(r===o)return r=!1;r=r.parentNode}r&&i.call(r)}}r(t(o),e,s),o.addEventListener(e,s)}),this)},ready:function(t){this[0].addEventListener("DOMContentLoaded",t)},trigger:function(t){var e=o.createEvent("HTMLEvents");return e.initEvent(t,!0,!1),this.each(function(t){return t.dispatchEvent(e)}),this}});var v=encodeURIComponent;return d.extend({serialize:function(){var t,e,n,i=this[0],r="";for(e=i.elements.length-1;e>=0;e--)if(t=i.elements[e],t.name&&"file"!==t.type&&"reset"!==t.type)if("select-multiple"===t.type)for(n=i.elements[e].options.length-1;n>=0;n--)t.options[n].selected&&(r+="&"+t.name+"="+v(t.options[n].value).replace(/%20/g,"+"));else"submit"!==t.type&&"button"!==t.type&&(r+="&"+t.name+"="+v(t.value).replace(/%20/g,"+"));return r.substr(1)},val:function(t){return void 0===t?this[0].value:(this.each(function(e){return e.value=t}),this)}}),d.extend({append:function(e){return this[0].appendChild(t(e)[0]),this},appendTo:function(e){return t(e)[0].appendChild(this[0]),this},clone:function(){return t(this[0].cloneNode(!0))},empty:function(){return this.each(function(t){return t.innerHTML=""}),this},html:function(e){var n;return"undefined"===e?this[0].innerHTML:(n="object"==typeof e?t(e)[0].outerHTML:e,this.each(function(t){return t.innerHTML=""+n}),this)},insertAfter:function(e){return t(e)[0].insertAdjacentHTML("afterend",this[0].outerHTML),this},insertBefore:function(e){return t(e)[0].insertAdjacentHTML("beforebegin",this[0].outerHTML),this},prepend:function(e){return t(this)[0].insertAdjacentHTML("afterBegin",t(e)[0].outerHTML),this},prependTo:function(e){return t(e)[0].insertAdjacentHTML("afterBegin",this[0].outerHTML),this},remove:function(){this.each(function(t){return t.parentNode.removeChild(t)})},text:function(t){return t?(this.each(function(e){return e.textContent=t}),this):this[0].textContent}}),d.extend({children:function(e){return e?t(this[0].children).filter(function(n){return t.matches(n,e)}):t.fn.extend(this[0].children,t.fn)},closest:function(e){return!e||t.matches(this[0],e)?this:this.parent().closest(e)},is:function(e){return!!e&&(e.cash?this[0]===e[0]:"string"==typeof e&&t.matches(this[0],e))},find:function(e){return t.fn.extend(this[0].querySelectorAll(e),t.fn)},has:function(e){return u.call(this,function(n){return 0!==t(n).find(e).length})},next:function(){return t(this[0].nextElementSibling)},not:function(e){return u.call(this,function(n){return!t.matches(n,e)})},parent:function(){var e=a.map.call(this,function(t){return t.parentElement||o.body.parentNode});return t.unique(e)},parents:function(e){var n,i=[],r=0;return this.each(function(s){for(n=s;n!==o.body.parentNode;)n=n.parentElement,(!e||e&&t.matches(n,e))&&(i[r]=n,r++)}),t.unique(i)},prev:function(){return t(this[0].previousElementSibling)},siblings:function(){var t=this.parent().children(),e=this[0];return u.call(t,function(t){return t!==e})}}),t});var ajax=function(t,e,n){var n=n||"GET",i=new XMLHttpRequest;i.open(n,t,!0),i.onload=function(t){if(i.status>=200&&i.status<400){var e=i.responseText;console.log(e),console.log(t)}else console.error("ajax.js: error 1")},i.onerror=function(){console.error("ajax.js: error 2")},i.send()},app={init:function(){$("html").removeClass("no-js").addClass("js");new Blazy}};$(document).ready(app.init);var grid={};!function(){var t=document.querySelectorAll(".parallax"),e=.5;window.onscroll=function(){[].slice.call(t).forEach(function(t,n){var i=window.pageYOffset,r="50% "+i*e+"px";t.style.backgroundPosition=r})}}();var zoom={init:function(){$(".zoom").on("click",function(t){t.preventDefault(),target=$(t.target).attr("href")?$(t):$(t).parents("[href]"),zoom.load(target)})},load:function(t){href=t.attr("href"),frag=document.createDocumentFragment(),img=ajax(href),zoom.show(img)},show:function(t){console.log("img ",t)}};