function pop(e){var t=e.target.getAttribute("data-full");console.log("full",t),uglipop({"class":"uglipop",source:"html",content:'<img src="'+t+'"></img>'})}function addListener(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent?e.attachEvent("on"+t,function(){return o.call(e,window.event)}):e["on"+t]=o}!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.Blazy=t()}(this,function(){function e(e){var o=e._util;o.elements=l(e.options.selector),o.count=o.elements.length,o.destroyed&&(o.destroyed=!1,e.options.container&&p(e.options.container,function(e){a(e,"scroll",o.validateT)}),a(window,"resize",o.save_viewportOffsetT),a(window,"resize",o.validateT),a(window,"scroll",o.validateT)),t(e)}function t(e){for(var t=e._util,o=0;o<t.count;o++){var n=t.elements[o],i=n.getBoundingClientRect();(i.right>=v.left&&i.bottom>=v.top&&i.left<=v.right&&i.top<=v.bottom||s(n,e.options.successClass))&&(e.load(n),t.elements.splice(o,1),t.count--,o--)}0===t.count&&e.destroy()}function o(e,t,o){if(!s(e,o.successClass)&&(t||o.loadInvisible||0<e.offsetWidth&&0<e.offsetHeight))if(t=e.getAttribute(f)||e.getAttribute(o.src)){t=t.split(o.separator);var l=t[m&&1<t.length?1:0],c="img"===e.nodeName.toLowerCase();if(c||void 0===e.src){var u=new Image,v=function(){o.error&&o.error(e,"invalid"),r(e,o.errorClass),d(u,"error",v),d(u,"load",g)},g=function(){if(c){e.src=l,i(e,"srcset",o.srcset);var t=e.parentNode;t&&"picture"===t.nodeName.toLowerCase()&&p(t.getElementsByTagName("source"),function(e){i(e,"srcset",o.srcset)})}else e.style.backgroundImage='url("'+l+'")';n(e,o),d(u,"load",g),d(u,"error",v)};a(u,"error",v),a(u,"load",g),u.src=l}else e.src=l,n(e,o)}else"video"===e.nodeName.toLowerCase()?(p(e.getElementsByTagName("source"),function(e){i(e,"src",o.src)}),e.load(),n(e,o)):(o.error&&o.error(e,"missing"),r(e,o.errorClass))}function n(e,t){r(e,t.successClass),t.success&&t.success(e),e.removeAttribute(t.src),p(t.breakpoints,function(t){e.removeAttribute(t.src)})}function i(e,t,o){var n=e.getAttribute(o);n&&(e[t]=n,e.removeAttribute(o))}function s(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function r(e,t){s(e,t)||(e.className+=" "+t)}function l(e){var t=[];e=document.querySelectorAll(e);for(var o=e.length;o--;t.unshift(e[o]));return t}function c(e){v.bottom=(window.innerHeight||document.documentElement.clientHeight)+e,v.right=(window.innerWidth||document.documentElement.clientWidth)+e}function a(e,t,o){e.attachEvent?e.attachEvent&&e.attachEvent("on"+t,o):e.addEventListener(t,o,!1)}function d(e,t,o){e.detachEvent?e.detachEvent&&e.detachEvent("on"+t,o):e.removeEventListener(t,o,!1)}function p(e,t){if(e&&t)for(var o=e.length,n=0;n<o&&!1!==t(e[n],n);n++);}function u(e,t,o){var n=0;return function(){var i=+new Date;i-n<t||(n=i,e.apply(o,arguments))}}var f,v,m;return function(n){if(!document.querySelectorAll){var i=document.createStyleSheet();document.querySelectorAll=function(e,t,o,n,s){for(s=document.all,t=[],e=e.replace(/\[for\b/gi,"[htmlFor").split(","),o=e.length;o--;){for(i.addRule(e[o],"k:v"),n=s.length;n--;)s[n].currentStyle.k&&t.push(s[n]);i.removeRule(0)}return t}}var s=this,r=s._util={};r.elements=[],r.destroyed=!0,s.options=n||{},s.options.error=s.options.error||!1,s.options.offset=s.options.offset||100,s.options.success=s.options.success||!1,s.options.selector=s.options.selector||".b-lazy",s.options.separator=s.options.separator||"|",s.options.container=!!s.options.container&&document.querySelectorAll(s.options.container),s.options.errorClass=s.options.errorClass||"b-error",s.options.breakpoints=s.options.breakpoints||!1,s.options.loadInvisible=s.options.loadInvisible||!1,s.options.successClass=s.options.successClass||"b-loaded",s.options.validateDelay=s.options.validateDelay||25,s.options.save_viewportOffsetDelay=s.options.save_viewportOffsetDelay||50,s.options.srcset=s.options.srcset||"data-srcset",s.options.src=f=s.options.src||"data-src",m=1<window.devicePixelRatio,v={},v.top=0-s.options.offset,v.left=0-s.options.offset,s.revalidate=function(){e(this)},s.load=function(e,t){var n=this.options;void 0===e.length?o(e,t,n):p(e,function(e){o(e,t,n)})},s.destroy=function(){var e=this._util;this.options.container&&p(this.options.container,function(t){d(t,"scroll",e.validateT)}),d(window,"scroll",e.validateT),d(window,"resize",e.validateT),d(window,"resize",e.save_viewportOffsetT),e.count=0,e.elements.length=0,e.destroyed=!0},r.validateT=u(function(){t(s)},s.options.validateDelay,s),r.save_viewportOffsetT=u(function(){c(s.options.offset)},s.options.save_viewportOffsetDelay,s),c(s.options.offset),p(s.options.breakpoints,function(e){if(e.width>=window.screen.width)return f=e.src,!1}),setTimeout(function(){e(s)})}}),function(e,t){"use strict";function o(e,t,o){e.addEventListener?e.addEventListener(t,o):e.attachEvent("on"+t,function(){o.call(e)})}function n(){if(!c){c=!0;var n=t.createElement("div");n.id="uglipop_overlay";var l=t.createElement("div");l.id="uglipop_content_fixed";var a=t.createElement("div");a.id="uglipop_popbox";var d=t.createElement("div");d.id="uglipop_overlay_wrapper";var p=t.createElement("button");p.id="uglipop_close_button",p.innerHTML=p.innerHTML="&times;",p.addEventListener("click",s),d.appendChild(n),l.appendChild(a),l.appendChild(p),t.body.appendChild(d),t.body.appendChild(l),d.addEventListener("click",s),a.addEventListener("click",r),o(e,"keydown",function(e){27==e.keyCode&&s()}),e.uglipop=i,e.removeuglipop=s}}function i(e){e&&("string"==typeof e["class"]&&e["class"]&&t.getElementById("uglipop_popbox").setAttribute("class",e["class"]),"string"==typeof e.content&&e.content&&"html"==e.source&&(t.getElementById("uglipop_popbox").innerHTML=e.content),"string"==typeof e.content&&e.content&&"div"==e.source&&(t.getElementById("uglipop_popbox").innerHTML=t.getElementById(e.content).innerHTML)),t.getElementById("html").className="js popped"}function s(){t.getElementById("html").className="js",l()}function r(){console.log("zoomIn"),t.getElementById("uglipop_content_fixed").className="zoomed",t.getElementById("uglipop_popbox").removeEventListener("click",r),t.getElementById("uglipop_popbox").addEventListener("click",function(){l()})}function l(){console.log("zoomOut"),t.getElementById("uglipop_content_fixed").className="",t.getElementById("uglipop_popbox").removeEventListener("click",l),t.getElementById("uglipop_popbox").addEventListener("click",function(){r()})}var c=!1;o(t,"DOMContentLoaded",n),o(t,"load",n)}(window,document),document.getElementById("html").className="js";var bLazy=new Blazy,elements=document.querySelectorAll(".pop");for(i=0;i<elements.length;i++)addListener(elements[i],"click",function(e){pop(e)});